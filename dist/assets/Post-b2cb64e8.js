import{g as I,p as R,E as c}from"./index-b2fff7b0.js";import{I as $,a as i,$ as f,P as L,Q as a,af as n,l as M,W as l,u as g,U as _}from"./vue-207f54a6.js";const j=$({__name:"Post",setup(P){const b=I(),v=i("default"),m=i(),o=f({name:"",region:"",category:"",hasInvoice:!0,imageUrls:[],price:"",desc:""}),V=(r,e)=>{console.log(r,e)},y=f({name:[{required:!0,message:"请输入物品名称",trigger:"blur"},{min:3,max:15,message:"名称3~15个字",trigger:"blur"}],region:[{required:!0,message:"请输入交易地点",trigger:"change"}],category:[{required:!0,message:"请选择物品类别",trigger:"change"}],imageUrls:[{type:"array",message:"",trigger:"change"}],price:[{required:!0,message:"请输入物品原价",trigger:"change"}],desc:[{required:!0,message:"Please input activity form",trigger:"blur"}]});i("");const d=i([]),U=(r,e)=>{o.imageUrls.push(URL.createObjectURL(e.raw))},w=r=>r.type!=="image/jpeg"?(c.error("Avatar picture must be JPG format!"),!1):r.size/1024/1024>2?(c.error("Avatar picture size can not exceed 2MB!"),!1):!0,x=async r=>{r&&await r.validate((e,u)=>{e?console.log("submit!"):console.log("error submit!",u)})},k=r=>{r&&r.resetFields()};return Array.from({length:1e4}).map((r,e)=>({value:`${e+1}`,label:`${e+1}`})),(r,e)=>{const u=n("el-input"),s=n("el-form-item"),F=n("el-cascader"),q=n("el-switch"),z=n("el-icon"),A=n("el-upload"),p=n("el-button"),C=n("el-form");return M(),L(C,{ref_key:"ruleFormRef",ref:m,model:o,rules:y,"label-width":"120px",class:"demo-ruleForm mt-4 pt-16 w-4/5 mx-auto",size:v.value,"status-icon":""},{default:a(()=>[l(s,{label:"物品名称",prop:"name"},{default:a(()=>[l(u,{class:"w-52",modelValue:o.name,"onUpdate:modelValue":e[0]||(e[0]=t=>o.name=t)},null,8,["modelValue"])]),_:1}),l(s,{label:"物品类别",prop:"category"},{default:a(()=>[l(F,{class:"w-52",placeholder:"选择物品类别",modelValue:o.category,"onUpdate:modelValue":e[1]||(e[1]=t=>o.category=t),options:g(b)},null,8,["modelValue","options"])]),_:1}),l(s,{class:"w-52",label:"交易地点",prop:"region"},{default:a(()=>[l(u,{modelValue:o.region,"onUpdate:modelValue":e[2]||(e[2]=t=>o.region=t)},null,8,["modelValue"])]),_:1}),l(s,{label:"原价",prop:"price"},{default:a(()=>[l(u,{class:"w-52",modelValue:o.price,"onUpdate:modelValue":e[3]||(e[3]=t=>o.price=t),type:"number"},null,8,["modelValue"])]),_:1}),l(s,{label:"有发票",prop:"hasInvoice"},{default:a(()=>[l(q,{modelValue:o.hasInvoice,"onUpdate:modelValue":e[4]||(e[4]=t=>o.hasInvoice=t)},null,8,["modelValue"])]),_:1}),l(s,{label:"描述",prop:"desc"},{default:a(()=>[l(u,{modelValue:o.desc,"onUpdate:modelValue":e[5]||(e[5]=t=>o.desc=t),type:"textarea"},null,8,["modelValue"])]),_:1}),l(s,{label:"物品图片"},{default:a(()=>[l(A,{"file-list":d.value,"onUpdate:fileList":e[6]||(e[6]=t=>d.value=t),action:"https://run.mocky.io/v3/9d059bf9-4660-45f2-925d-ce80ad6c4d15","list-type":"picture-card",multiple:!0,limit:3,"on-success":U,"before-upload":w,"on-remove":V},{default:a(()=>[l(z,null,{default:a(()=>[l(g(R))]),_:1})]),_:1},8,["file-list"])]),_:1}),l(s,null,{default:a(()=>[l(p,{type:"primary",onClick:e[7]||(e[7]=t=>x(m.value))},{default:a(()=>[_(" 发布 ")]),_:1}),l(p,{onClick:e[8]||(e[8]=t=>k(m.value))},{default:a(()=>[_("重置")]),_:1})]),_:1})]),_:1},8,["model","rules","size"])}}});export{j as default};
